#pragma checksum "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "dd7c3315fa20d9a16ddba84729cf046a9bad03cb"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_FileUploadState), @"mvc.1.0.view", @"/Views/Home/FileUploadState.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\_ViewImports.cshtml"
using DeIdWeb_V2;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\_ViewImports.cshtml"
using DeIdWeb_V2.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml"
using System.Globalization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml"
using Resources;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"dd7c3315fa20d9a16ddba84729cf046a9bad03cb", @"/Views/Home/FileUploadState.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"62585a40b69fa99470df684989c51f2e46e38113", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_FileUploadState : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 4 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml"
  
    ViewData["Title"] = "FileUploadState";
    Layout = "~/Views/Shared/_Layout.cshtml";

#line default
#line hidden
#nullable disable
            WriteLiteral("<meta charset=\"UTF-8\">\r\n<section class=\"section_top\">\r\n    <div class=\"container\">\r\n        <ul class=\"bread_crumb\">\r\n            <!-- <li><a href=\"");
#nullable restore
#line 12 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml"
                         Write(Url.Action("ProjectIndex","Home"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\">");
#nullable restore
#line 12 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml"
                                                             Write(localizer.Text.project_list);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a></li>\r\n            <li><a href=\"");
#nullable restore
#line 13 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml"
                    Write(Url.Action("StepUpload", "ProjectStep", new { proj_id = ViewData["ProjectId"], project_name = ViewData["ProjectName"],project_cht=ViewData["Project_cht"] }));

#line default
#line hidden
#nullable disable
            WriteLiteral("\">");
#nullable restore
#line 13 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml"
                                                                                                                                                                                   Write(ViewData["Project_cht"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</a></li> -->
        </ul>
    </div>
</section>
<section class=""project_wrapper"">
    <div class=""container"">
        <div class=""row"">
            <div class=""col-sm-12"">
                <div class=""col-sm-3"">
                    <!-- <div class=""project_title"">
                        <h4>先來個名字撐起高度</h4>
                    </div> -->
                    <div class=""status_bar"">
                        <h4 class=""method"">查詢PEDSA系統上傳檔案狀況</h4>
                        <div class=""status"">
                            <div class=""status_no_line active"">
                                <h6>查詢系統上傳檔案狀況</h6>
                                <p>Data Upload Status</p>
                                <h3></h3>
                            </div>
                        </div>

                    </div>
                </div>
                <div class=""col-sm-9 upload"">
                    <div class=""project_content"">
                        <h4 class=""title"">查詢PEDSA系統上傳檔案狀況<span class=""step_");
            WriteLiteral("inf\"></span></h4>\r\n                    </div>\r\n                    <div class=\"col-sm-12\">\r\n");
            WriteLiteral("                        <table id=\"file_upload\" class=\"table table-hover table_info\" data-toggle=\"table\" data-show-header=\"true\" data-pagination=\"true\" data-search=\"true\" data-sortable=\"true\" data-page-list=\"[10, 25, 50, 100, All]\" data-page-size=\"10\">\r\n");
            WriteLiteral("                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <label id=\"logdata\" style=\"display: none\">");
#nullable restore
#line 58 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml"
                                         Write(ViewData["app_list"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</label>\r\n    <label id=\"pid\" style=\"display: none\">");
#nullable restore
#line 59 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml"
                                     Write(ViewData["ProjectId"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</label>\r\n    <label id=\"pcht\" style=\"display: none\">");
#nullable restore
#line 60 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml"
                                      Write(ViewData["Project_cht"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</label>\r\n    <label id=\"pname\" style=\"display: none\">");
#nullable restore
#line 61 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml"
                                       Write(ViewData["ProjectName"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</label>\r\n    <label id=\"memberAcc\" style=\"display:none\">");
#nullable restore
#line 62 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml"
                                          Write(ViewData["memberAcc"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</label>\r\n    <label id=\"memberId\" style=\"display:none\">");
#nullable restore
#line 63 "F:\DeIdWeb\數位部\pets_dir_web\DeIdWeb_V2\DeIdWeb_V2\Views\Home\FileUploadState.cshtml"
                                         Write(ViewData["memberId"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
</section>
<script>

    function truncateFormatter(value, row, index) {
        if (value.length > 15) {
            return value.substring(0, 6) + ""..."" + value.substr(-6);
        } else {
            return value;
        }
    }
    //project_id,service_ip,dataset_name,project_status,statusname,createtime
    var appdata = JSON.parse($('#logdata').text());
    $('#file_upload').bootstrapTable({
        columns: [{
            field: 'service_ip',
            title: '使用端IP'
        },
        {
            field: 'dataset_name',
            title: '上傳檔案名稱'
        },
        {
            field: 'statusname',
            title: '上傳狀態'
        },
        {
            field: 'createtime',
            title: '上傳時間'
        },
        {
            field: 'ps_id',
            title: 'PS ID',
            visible: false // 隱藏該欄位
        },
    {
      field: 'key_code',
      title: '',
      formatter: function(value, row, index) {
        // 將 key_code 轉換為按鈕，並在");
            WriteLiteral(@"按下按鈕時觸發事件
        return '<button class=""btn btn-primary btn-sm"" onclick=""handleKeyCode(\'' + value + '\')"">資料續傳</button>';
      }
    }
        ],
        classes: 'table',
        data: appdata,
        pagination: true, //使否要分頁

        //可於ToolBar上顯示的按鈕
        showColumns: false, //顯示/隱藏哪些欄位
        showToggle: false, //名片式/table式切換
        showPaginationSwitch: false, //分頁/不分頁切換
        showRefresh: false, //重新整理
        search: true, //查詢

        onPageChange: function (currentPage, pageSize) {
            console.log(""目前頁數:"" + currentPage + "",一頁顯示:"" + pageSize + ""筆"");
        },
        pageSize: 20, //一頁顯示幾筆
        //pageList : [ 5,10, 20, 50, 100], //一頁顯示幾筆的選項

        formatRecordsPerPage: function (pageSize) {
            return '&nbsp;&nbsp;每頁顯示' + pageSize + '筆';
        },
        formatShowingRows: function (fromIndex, toIndex, totalSize) {
            //目前第幾頁
            var currentPage = Math.ceil(fromIndex / this.pageSize);
            //總共幾頁
            var ");
            WriteLiteral(@"totalPageCount = Math.ceil(totalSize / this.pageSize);
            return '第' + currentPage + '頁&nbsp;&nbsp;共' + totalPageCount + '頁';
        }
    });

    // 定義按鈕的點擊事件
function handleKeyCode(key_code) {
  //alert('Key Code: ' + key_code);
  var checkstate=""0"";
          $.ajax({
            type: ""get"",
            url: ""/api/WebAPI/resend"",
            contentType: ""application/json"",
            async: false,
            data:
            {
                key_code:key_code
            },
            success: function (data, status) {
             // alert('return data :'+ data);
             //  alert('return status :'+ status);
              if(!data)
              {
                  alert('資料續傳失敗，識別碼已經更新，請重新上傳資料!');
              }
            },
            error: function (data, status) {
                //alert(savecolerror);
                //alert('err')
                checkstate =""-1""
            }
        });

        //alert('資料已重新續傳!');
}
</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public ILocalizer localizer { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
